# 「世界で闘うプログラミング力を鍛える150問」問題6.4

## 問題

ある島に、さまざまな眼の色をした人たちが仲良く暮らしていました。
しかし、ある日突然島の外から人がやってきておかしなことを言います。
「青い眼をした人は、できるだけ早くこの島から出ていきなさい」。
毎晩午後8時に島から飛び立つ飛行機が出ていて、
自身の眼の色が青色だとわかった時点で、
その人は飛行機に乗って島を出なければなりません。
島の人たちは自分以外の人の眼の色が分かりますが、自分の眼の色はわかりません。
また、自分の眼の色を他人に聞いたり、
他人に眼の色を教えてあげるということは禁止されています。
また、島全体で青い眼をした人が何人いるかわかりません。
ただし、少なくとも1人はいることはわかっています。
青い眼をした人が島からいなくなるには何日かかるでしょうか?

## 回答

(私は証明できなかったので、書籍掲載の解説を引用する)

以下を追加で仮定する。

* 島の外の人は、最初の発言以降、島民に完全に関与しない。

* 島民に1人以上の青い眼を持つ人がいることは、全ての島民が知っている。 ←条件X
* 島民は、自分の眼の色は知らないが、他の島民全員の眼の色を知っている。
* 島民は自身の眼の色が青色だと分かる時点まで島から出ていかない。
* 島民は何があっても死亡しない。また、新しく生まれる子供は数に入れない。
* 島民は眼の色が変わることがない。
* 飛行機は青い眼を持つ人全員を一度に乗せることができる。

ここで青い眼をした島民の人数をcとする。

### c = 1の場合

青い眼を持つ人は、
自分以外に青い眼を持つ人がいないことを知っているので、
条件Xから、
すぐに自分が青い眼を持っていることに気づくことができる。
このため、1日目で青い眼を持つ人がいなくなる。

### c = 2の場合

青い眼を持つ人は、
自分以外に青い眼を持つ人が1人しかいないことを知っているので、
c = 1 か c = 2の可能性を考えることになる。
ここでc = 1と仮定すると、
1日目で青い眼の人はいなくなっていることになるが、
c = 2の状況下ではc = 1の場合の説明が通用しないため、
1日目が終わっても青い眼の人が1人もいなくなることはない。
2日目になると、
青い眼を持つ人は、c = 2であることが分かり、
自身も青い眼を持つことに気づくことができる。
このため、2日目で青い眼を持つ人がいなくなる。

### c = nの場合

ここで帰納法を適用するため、
c = n - 1の時に「n - 1日目で青い眼を持つ人がいなくなる」と仮定する。

青い眼を持つ人は、
自分以外に青い眼を持つ人がn - 1人のみいることを知っているので、
c = n - 1か c = nの可能性を考えることになる。
前者が上記「c = 2の場合」の説明と同様の要領で否定されるので、
n日目になると、
青い眼を持つ人は、c = nであることが分かり、
自身も青い眼を持つことに気づくことができる。
このため、n日目で青い眼を持つ人がいなくなる。

### まとめ

以上により、帰納法が適用できるので、
「青い眼を持つ人がn人いれば、n日目でその人達がいなくなる (nは自然数)」
ことが分かる。

## メモ

この解は全く現実的でない内容ではあるが、クイズの一種として考えてもらいたい。
