# 「世界で闘うプログラミング力を鍛える150問」問題7.1

## 問題

バスケットボールのゴールがあります。
以下の2種類のゲームのうち、どちらか1つを選べるとします。

* ゲーム1: 1回だけ投げてシュートを決める。
* ゲーム2: 3回投げて、そのうち2回決める。

1回投げてシュートを決める確率をpとすると、pの値がどのような場合にどちらのゲームを選びますか?

## 回答

ゲーム1の成功確率はp。
ゲーム2の成功確率は以下の要領で求めることができる。

    P(1投目のみ外す) = (1 - p) * p * p = p^2 - p^3
    P(2投目のみ外す) = p * (1 - p) * p = p^2 - p^3
    P(3投目のみ外す) = p * p * (1 - p) = p^2 - p^3
    P(1投目も外さない) = p * p * p = p^3
    P(ゲーム2で成功) = P(1投目のみ外す) + P(2投目のみ外す) + P(1投目も外さない) = 3p^2 - 2p^3
    ※ 各事象が互いに排反であることに注意。

ここでゲーム1の成功確率よりゲーム2の成功確率が高い場合を考える。

    P(ゲーム1で成功) < P(ゲーム2で成功)
    p < 3p^2 - 2p^3
    1 < 3p - 2p^2
    1/2 < 3/2p - p^2
    1/2 < - (p - 3/4)^2 + 9/16
    -1/16 < - (p - 3/4)^2
    1/16 > (p - 3/4)^2
    -1/4 < p - 3/4 < 1/4
    1/2 < p < 1
    ※ pが0以上であることに注意。

つまり、1/2 < pの時にゲーム2を、そうでない時にゲーム1を選択すると良い。
