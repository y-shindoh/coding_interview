# 「世界で闘うプログラミング力を鍛える150問」問題10.3

## 問題

40億個の整数からなる入力ファイルが与えられた時、
ファイルの中にない整数を見つけるアルゴリズムを考えてください。
作業には1GBのメモリが使用できるとします (訳注: 整数は32bit)。

## 回答

メモリは「1GB * 8ビット = 1024^3 * 8 = 約80億ビット」ありであり、
整数の全種類は「2^32 = 4294967296 = 約43億」なので、
ビットを用いたバケット処理 (別途C++ソースを用意した) で対処可能。

## 発展問題

10MBのメモリしか使用できないとすれば、どのようにしますか?

## 回答1

メモリは「10MB * 8ビット = 約0.8億ビット」ある。
このことから、
43億種の整数を小さい順に51個に分割して処理すれば、
個々をバケット処理することで対処できる。

1. 0以上0.8億未満のみを処理
1. 0.8億以上1.6億未満のみを処理
1. 1.6億以上2.4億未満のみを処理
1. ...
1. 42.4億以上43.2億未満のみを処理

言うまでもなく、範囲を限定する関係で、
各処理において最小の整数を0とみなす必要がある。

計算量は O(kn) となる。
ただしnは整数の数、kは整数を分割した数。

## 回答2

テキスト記述の正解は、
区間を区切って区間内の整数の出現数をカウントし、
出現数が充分でないところをバケット処理するもの。
整数が重複していないという仮定が必要になる。

計算量は O(kn) となる。
ただしnは整数の数、kは整数を分割した数。
