# 「世界で闘うプログラミング力を鍛える150問」問題10.5

## 問題

ウェブの巡回ソフトを設計する場合、無限ループを回避するにはどのようにすればよいですか?

## 回答1

仮定に依存する問題であり、回答がいくらでもできてしまう。
今回は以下を仮定する。

* 同一コンテンツとは、以下を満たすものを言う。
  * パラメータを除いたURIが同一。
  * コンテンツの差分がコンテンツ全体の20%未満 (byteを基準にする)。

コンテンツを保存し巡回対象URIのキューに新しいURIを追加する際、
上記仮定における同一コンテンツをすでに保存済みか確認し、
すでに保存済みであれば全ての処理をスキップする。

## 回答2

同一ホストから取得するコンテンツ数 (異なりURI数) に上限を設ける。
上限を超えるコンテンツは全ての処理をスキップする。

中小企業のウェブ・サイトを広くクロールする場合などは、
これでも大きな問題が発生することはない。
